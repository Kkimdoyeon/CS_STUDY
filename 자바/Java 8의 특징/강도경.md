# Java 8의 특징

## Java 8

- 2014년 3월에 출시
- 2021년 가장 많이 사용하고 있는 버전
  - 2021 jetbrain report에 따르면 가장 많이 사용하고 있는 버전은 Java 8로, 사용 비율은 약 72%임
  - 2022 뉴텔릭에서 조사한 통계에 따르면 Java 11이 48.44%, Java 8이 46.45%로 여전히 사용 비율 높은 편
- 새로운 기능과 향상된 기능 및 버그 픽스가 포함되어 Java 프로그램 개발 및 실행의 효율성을 높여주는 Java 릴리스
- 프로그래밍 언어 Java의 중요한 변화 중 하나로 기록됨
- 여러 가지 새로운 기능과 개선 사항을 도입하여 Java 개발자들에게 큰 영향을 미침
- 특히 함수형 프로그래밍의 도입과 더불어, 개발자들이 보다 효율적이고 간결한 코드를 작성할 수 있게 함
- 이에 따라 Java의 사용성과 생산성을 크게 향상 시킴

- <br/> 

## 주요 변경사항

### 1. 람다 표현식 (Lambda expression)

- 메소드로 전달할 수 있는 익명 함수(Anonymous function)를 단순한 문법으로 표기한 것
- 함수를 하나의 표현식으로 나타냄
- 메소드에 이름이 없어서 익명
- 특정 클래스에 종속되지 않으므로 함수
- 메소드 인수로 전달하거나 변수로 저장 가능 
- 코드를 간결하게 작성할 수 있음
  - 언어의 표현이 더 풍부해졌기 때문
  - 개발자가 더 쉽게 객체 지향 프로그래밍, 함수형 프로그래밍을 할 수 있게 됨
  - 가독성 증가
  - 단위 테스트에 용이 
- 재활용이 불가능함
  - 익명 함수를 여러 곳에서 반복적으로 사용할 경우, 재활용을 위해 익명 함수를 사용하지 않는 방법을 고려해야 함

<br/>

#### 람다 표현식 구성

- 람다 파라미터 리스트
- 화살표 : 파라미터 리스트와 바디를 구분
- 람다 바디 : 람다의 반환값에 해당하는 표현식 
- 어떤 값이 들어가면(람다 파라미터) 결과물이 나옴(람다 바디)
- 반환타입 메소드이름(매개변수) -> { 메소드내용 }
  - 반환타입과 메소드명을 제거하고 매개변수 선언부와 메소드내용 사이에 '->'를 추가

<br/>

#### 형식 검사, 형식 추론, 제약

- 람다 표현식 자체에는 람다가 어떤 함수형 인터페이스를 구현하는지의 정보가 포함되어 있지 않음
- 람다 표현식을 더 제대로 이해하려면 람다의 실제 형식을 파악해야 함
- 람다 표현식의 형식 검사 과정의 재구성

<br/>

##### 형식 검사

```java
List<Apple> heavierThan150g = filter(inventory, (Apple a) -> a.getWeight() > 150);
```

1. 람다가 사용된 콘텍스트는 무엇인가? 우선 filter의 정의를 확인
2. 대상 형식은 Predicate<Apple>
3. Predicate<Apple>인터페이스의 추상 메서드는 무엇?
4. Apple을 인수로 받아 boolean을 반환하는 test 메서드
5. 함수 디스크립터는 Apple → boolean이므로 람다의 시그니처와 일치. 람다도 Apple을 인수로 받아 boolean을 반환하므로 코드 형식 검사가 성공적으로 완료

<br/>

##### 형식 추론

- 자바 컴파일러는 람다 표현식이 사용된 콘텍스트를 이용해서 람다 표현식과 관련된 함수형 인터페이스를 추론
- 결과적으로 컴파일러는 람다 표현식의 파라미터 형식에 접긍할 수 있으므로 람다 문법에서 이를 생략할 수 있음 

<br/>

#### 람다 표현식 예

- 비교 : 
```java
// (1) 일반 메소드
int max(int a, int b){
	return a < b ? a : b;
}

// (2) 람다 표현식
(a, b) -> a < b ? a : b
```

- 하나의 파라미터를 갖고 리턴 타입이 없는 람다 표현식
```java
(String str) -> System.out.println("parameter is " + str);
// 타입을 생략한 코드
(str) -> System.out.println("parameter is " + str);

// 람다 파라미터 괄호를 생략한 코드
str -> System.out.println("parameter is " + str);
```
- 하나의 파라미터를 갖고 리턴 타입이 있는 람다 표현식
```java
// 람다 바디를 하나의 라인으로 표현
(i) -> i + 10;

// 람다 바디를 여러 라인으로 표현
(i) -> {
    int result = i + 10;
    return result;
};
```
- 파라미터가 없고 리턴 타입이 있는 람다 표현식
```java
()-> Integer.MAX_VALUE; 
```
