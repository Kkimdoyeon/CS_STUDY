# 교착상태(DeadLock)

교착상태란 두 개 이사으이 프로세스나 스레드가 서로 다른 프로세스나 스레드가 점유하고 있는 자원을 요구하면서 결과적으로 아무도 진행하지 못하는 상태를 말한다. 

### 교착상태의 조건

1. 상호 배제 : 한 번에 한 프로세스만이 자원을 사용할 수 있다. 
2. 점유와 대기 : 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 의해 점유된 자원을 추가로 요구하는 프로세스가 있다. 
3. 비선점 : 점유중인 자원을 강제로 빼앗을 수 없다. 
4. 환영 대기 : 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 점유하고 있다. 

### 교착상태를 해결하는 전략

1) 교착상태 예방 : 교착상태는 위의 4가지 조건들이 만족해야지 발생하기에 이 네가지 조건 중 어느 하나를 제거하여 교착상태가 발생하지 않도록 하는 방법이 있다. 

- 여러 프로세스가 동시에 자원을 사용하면 상호배제 조건을 제거할 수 있다.
- 프로세스가 실행되기 전에 필요한 모든 자원을 요구하도록하면 점유와 대기 조건을 제거할 수 있다.
- 이미 점유중인 자원을 다른 프로세스가 요구하면 그 자원을 빼앗을 수 있도록 하면 비선점 조건을 제거할 수 있다.
- 각 자원에 번호를 부여하고 각 프로세스는 번호가 낮은 자원부터 높은 자원 순으로 요구하도록 하면 환영 대기 조건을 제거할 수 있다.

2) 교착상태 회피 : 프로세스가 자원을 요구할 때 시스템은 자원을 할당한 후에도 안전상태를 유지할 수 있는지 할 수 있는지를 검사하여 교착상태를 회피하게 하는 방법이다. 

- 이를 위해 시스템은 각 프로세스가 최대로 요구할 수 있는 자원의 종류와 수량에 대한 정보가 필요하며, 또한 현재 어떤 자원이 어떤 프로세스에게 할당되어 있는지에 대한 정보도 필요하다.

3) 교착상태 발견 및 복구 : 시스템은 주기적으로 교착상태를 검사하고, 교착상태를 발견하면 복구하는 방법이다. 

- 교착상태를 발견하는 알고리즘은 시스템의 자원 할당 상태를 검사하여 교착상태를 발견한다. 복구를 위해서는 교착상태에 있는 프로세스를 종료하거나, 교착상태에 있는 프로세스가 점유하고 있는 자원을 선점하는 방법이 있다.

4) 교착상태 무시 : 교착상태가 발생하는 빈도가 낮거나, 교착상태를 처리하는 비용이 많이 드는 경우에는 교착상태를 무시하고, 사용자가 직접 교착상태를 해결하도록 하는 방법이다. 이 방법은 교착상태가 발생하지 않을 것이라고 가정하며 실제로 많은 운영체제들이 이 방법을 사용한다. 

📚 출처

- [https://velog.io/@xnelb013/CS-교착상태Deadlock란](https://velog.io/@xnelb013/CS-%EA%B5%90%EC%B0%A9%EC%83%81%ED%83%9CDeadlock%EB%9E%80)