# CPU 스케줄링 알고리즘

**스케줄링의 핵심**

여러 작업이 들어올 때 누구를 먼저 할 것인가

사용하고 있는 CPU를 언제 가져올 것인가

**CPU 스케줄링 알고리즘 구현**

- 비선점형
    - FCFS
    - SJF
    - 우선순위
- 선점형
    - 라운드 로빈
    - SRF
    - 다단계 큐

---

### 비선점형

비선점 방식은 프로세스가 스스로 CPU 소유권을 포기하는 방식이며, 강제로 프로세스를 중지하지 않는 방식이다. 

강제성이 없기에 프로세스간 교류가 적어지므로 컨텍스트 스위칭으로 인한 부하가 적다. 

**1) FCFS(First Come First Served)** : 먼저 오면 먼저 사용

나머지 작업들 CPU를 다 사용할 때까지 기다려야 한다. 

비효율적

- Convey Effect : CPU 사용시간이 긴 프로세스에 의해 사용시간이 짧은 프로세스들이 오래 기다리는 현상, 이로 인해 평균 대기시간이 길어지게 된다.

**2) SJF (Shortest Job First)** : CPU를 사용하는 시간이 짧은 작업에 먼저 이용권을 준다. 

평균 대기 시간 최적

비선점의 경우, 한 번 CPU를 얻으면 사용을 보장한다. 

선점형의 CPU를 사용하다가 사용시간 더 짧은 작업이 오면 바로 넘겨준다. (SRTF)

문제점 : 프로세스 긴 시간 영원히 못 받을 수도 있다. CPU사용시간을 알 수 없다. 

**3) 우선순위 스케줄링** : 우선순위가 높은 프로세스에게 CPU를 할당

기존 SJF 스케줄링의 경우 긴 프로세스가 실행되지 않는 문제점을 우선순위를 높이는 에이징 기법을 사용하여 보완한 알고리

---

### 선점형

선점형 방식은 운영체제가 쓰고 있는 방식으로, 실행 중인 프로세스를 강제로 중단시키고 CPU 소유권을 할당하는 방식을 의미한다. 

**1) 라운드 로빈**

현재 컴퓨터가 쓰고 있는 스케줄링 우선순위 스케줄링의 일종

각 프로세스는 동일한 할당 시간을 주고 그 시간 안에 끝나지 못하면 다시 준비 큐 뒤로 가는 알고리즘

일반적으로 전체 작업 시간은 길어지지만 평균 응답 시간은 짧아진다는 특징이 있다. 

**2) SRF (Shortest Remaining Time First)** 

SJF는 실행 시간이 더 짧은 작업이 와도 순서대로 처리하지만, SRF는 중간에 더 짧은 작업이 들어오면 수행하던 프로세스를 중지하고 프로세스를 수행하는 알고리즘

**3) 다단계 큐**

다단계 큐는 우선 순위에 따른 준비 큐를 여러 개 사용하고, 큐마다 라운드 로빈이나 FCFS 등 다른 스케줄링 알고리즘을 적용하는 기법을 의미한다. 

큐 간의 프로세스 이동이 안되므로 스케줄링 부담이 적은 장점이 있지만, 유연성이 떨어지는 단점이 있다. 

📚 출처

- https://whdgus928.tistory.com/66
- [https://velog.io/@sean2337/개발자-대화를-위한-넓고-얕은-CS-지식-CPU-스케줄링-알고리즘](https://velog.io/@sean2337/%EA%B0%9C%EB%B0%9C%EC%9E%90-%EB%8C%80%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%84%93%EA%B3%A0-%EC%96%95%EC%9D%80-CS-%EC%A7%80%EC%8B%9D-CPU-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)
- https://sasca37.tistory.com/211